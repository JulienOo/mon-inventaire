<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>catégorie - Informatique</title>
	<link href="public/css/tableau.css" rel="stylesheet">
	<link href="public/css/styles.css" rel="stylesheet">
	<link href="public/css/clickDroit.css" rel="stylesheet">

</head>
<body>
	<header>
		informatique - câbles
	</header>

	<section id="parentCategories tasks">
	<table id="keywords" cellspacing="0" cellpadding="0">
    <thead id="task-0">
      <tr id="head">
      </tr>
    </thead>
    <tbody id="tasks">
    </tbody>
  </table>
	</section>

<section class="parentCroixTableau">
	<section class="croixTableau">
		<div id="creation" class="cube ajouterCategorie" href="#" onclick='creationLigne()'><img src="https://www.svgrepo.com/show/152121/plus.svg"></div>
		<p>ajouter une ligne</p>
	</section>
	<section class="croixTableau">
		<div id="creation" class="cube ajouterCategorie" href="#" onclick='creationColonne()'><img src="https://www.svgrepo.com/show/152121/plus.svg"></div>
		<p>ajouter une colonne</p>
	</section>
</section>


<!-- menu click droit -->


<!-- click droit head tableau -->
   <nav id="context-menu-head" class="context-menu">
    <ul class="context-menu__items">
      <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="View"><i class="fa fa-eye"></i>Ouvrir</a>
      </li>
      <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="EditHead"><i class="fa fa-edit"></i>renommer la cellule</a>
      </li>
      <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="DeleteHead"><i class="fa fa-times"></i>Supprimer la colonne</a>
      </li>
    </ul>
  </nav>


<!-- click droit contenu tableau -->
 <nav id="context-menu-contenu" class="context-menu">
    <ul class="context-menu__items">
<!--       <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="ViewContenu"><i class="fa fa-eye"></i>Ouvrir</a>
      </li> -->
      <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="EditContenu"><i class="fa fa-edit"></i>Modifier la cellule</a>
      </li>
      <li class="context-menu__item">
        <a href="#" class="context-menu__link" data-action="DeleteContenu"><i class="fa fa-times"></i>Supprimer la ligne</a>
      </li>
    </ul>
  </nav>

 <script type="text/javascript">
    const tableau = { "head": [
        {"nom":"Keywords", "type": "string"},
        {"nom":"Impressions", "type": "double"},
        {"nom":"Clicks", "type": "int"},
        {"nom":"CTR", "type": "int"},
        {"nom":"Rank", "type": "double"}
  ], contenu: [
    [
        {"valeur":"silly tshirts"},
        {"valeur":"6.000"},
        {"valeur":"110"},
        {"valeur":"1"},
        {"valeur":"22.2"}
    ],
    [
        {"valeur":"desktop workspace photos"},
        {"valeur":"2.200"},
        {"valeur":"500"},
        {"valeur":"22"},
        {"valeur":"8.9"}
    ]

  ]
    };

    // console.log(Object.keys(categorie["total"][0]));
    console.log(tableau.contenu.length);
    console.log(tableau.contenu);

    var th, tr, td, iBis, aBis;

    for (var i = 0; tableau.head[i] !== undefined; i++) 
    {
      th = document.createElement('th');
      th.setAttribute("class", "task");
      th.setAttribute("data-id", head.childElementCount+1);
      th.innerHTML = tableau.head[i]["nom"]
      head.appendChild(th);
    }

    for (var i=0; tableau.contenu[i] != undefined; i++) //boucle pour les lignes
    {
      tr = document.createElement('tr');
      id = parseInt(tasks.childElementCount)+1;
      tr.setAttribute("id", "task-"+id);
      // tr.innerHTML = tableau.head[i]["nom"];
      tasks.appendChild(tr);

      iBis=i+1;
      for (var a=0; tableau.contenu[i][a] != undefined; a++) //boucle pour les cellule
      {
      aBis = a+1;
      td = document.createElement('td');
      id = parseInt(tasks.childElementCount)+1;
      td.setAttribute("class", "task");
      td.setAttribute("data-id", iBis+"-"+aBis);
      td.innerHTML = tableau.contenu[i][a]["valeur"];
      tr.appendChild(td);
      }
    }

  </script>
	<script type="text/javascript" src="public/js/clickDroitContenuTableau.js"></script>
	<script type="text/javascript" src="public/js/tableau.js"></script>

</body>
</html>